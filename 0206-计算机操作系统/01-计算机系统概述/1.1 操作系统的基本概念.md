# 操作系统的基本概念
## 计算机系统层次结构

1. 用户
2. 应用程序
3. 操作系统
4. 裸机：只有硬件结构

## 操作系统的功能和目标

### 作为系统资源的管理者

*系统资源的管理者*：控制和*管理*整个计算机系统的*硬件和软件*资源，并合理的组织调度计算机的工作和资源的分配
- 处理机管理
- 存储器管理
- 文件管理
- 设备管理

### 向上层提供方便易用的服务

*向上层提供方便易用的服务*：以*提供给用户和其他软件方便的接口和环境*
- 封装思想：操作系统把一些丑陋的硬件功能封装成简单易用的服务，使用户能更方便的使用计算机，用户无需关心底层硬件的原理，只需要对操作系统发出命令即可
- 提供的服务
  - GUI：图形化用户接口，用户可以使用形象的图形界面进行操作，而不再需要记忆复杂的指令、参数
  - 命令接口
    - 联机命令接口(交互式)：一次执行一条命令
    - 脱机命令接口(批处理)：一次可执行多条命令
  - 程序接口：可以在程序中进行*系统调用(广义指令)* 来使用程序接口。普通用户不能直接使用程序接口，只能通过程序代码*间接*使用

### 是最接近硬件的一层软件

*是最接近硬件的一层软件*：它是计算机系统中最基本的*系统软件*，需要实现*对硬件机器的扩展*
- 裸机：没有任何软件支持的计算机
  - 在裸机上安装的操作系统可以提供资源管理功能和方便用户的服务功能，将逻辑改造成功能更强、使用更方便的机器。
- 扩充机器(虚拟机)：覆盖了软件的机器
## 操作系统的特征
操作系统的特征
- 并发
- 共享
- 虚拟
- 异步

### 并发

并行：两个或多个时间同一时时刻同时发生
并发：两个或多个时间同一时间间隔内发生
- 宏观：同时发生
- 微观：交替发生
- 操作系统的并发性：操作系统中“同时”运行着多个程序
  - 操作系统和程序并发是一起诞生的
- 在单核CPU中：同一时刻只能运行*一个程序*，各个程序只能*并发*运行
- 在多核CPU中：同一时刻可以同时运行*多个程序*，多个程序可以*并行*的执行
  - 即使是多核CPU来说，只要超过核心数的程序需要同时运行，并发性依然是必不可少的

### 共享

共享：资源共享，系统中的资源可以供内存中多个并发执行的进程共同使用
- 互斥共享方式：一个时间段内只允许一个进程访问该资源
- 同时共享方式：允许一个时间段内有多个进程“同时”对他们进行访问


### 并发和共享的关系

- 如果失去并发性，则系统只有一个程序正在运行，则共享性失去存在的意义
- 如果失去共享性，则并发性就不可能被实现
- 并发和共享互为存在条件

### 虚拟

虚拟：把*一个物理实体*变成*若干个逻辑*上的对应物
- 物理实体：是实际存在的
- 逻辑对应物：是用户感受到的
- 虚拟技术
	- 时分复用技术：如虚拟处理器
	- 空分复用技术：如虚拟存储器技术
- 虚拟性与并发性的关系：如果失去了并发性，则一个时间段内只需有运行一道程序，那么就失去了实现虚拟性的意义了。

### 异步

异步：在多道程序环境下，允许多个程序并发执行，但由于资源有限，进程的执行不是一贯到底的，而是走走停停，已不可预知的速度向前推进
- 异步与并发的关系：如果失去了并发性，即系统只能串行的运行各个程序，那么每个程序的执行会一贯到底，只有系统拥有并发性，才有可能导致异步性
