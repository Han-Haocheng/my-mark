寻址方式：确定本条指令的操作数地址，下一条要执行指令的地址

- 指令寻址
- 数据寻址

# 指令寻址

- 顺序寻址：`(PC)+1->PC`，其中+1操作根据实际情况的不同而不同
- 跳跃寻址：由转移指令指出
![[../../attachment/Pasted image 20240301093910.png]]

# 数据寻址

|操作码|寻址特征|形式地址A|

- 形式地址：指令字中的地址
- 有效地址：操作数的真实地址

约定：指令字长=存储字长=机器字长

## 立即寻址

形式地址A就是操作数

|OP|#|A|

- \#：立即寻址特征
- A：立即数，可正可负、补码

特点

- 执行时不需要再次访存
- A的位限制了立即数的范围

## 直接寻址

形式地址就是有效地址`EA=A`

![[../../attachment/Pasted image 20240301094827.png]]

特点

- 需要访问一次存储器
- A的位数限制该指令操作数的寻址范围
- 操作数地址不易修改，必须修改A

## 隐含寻址

操作数地址隐含在操作码中，可减少指令字段长度

![[../../attachment/Pasted image 20240301095338.png]]

如8086指令集

- `MUL`指令：被乘数隐含在AX（16位）或AL（8中
- `MOVS`指令：源操作数的地址隐含在SI中，目的的操作数隐含在DI中

## 间接寻址

操作数地址保存在形式地址所保存的地址中`EA=(A)`，有效地址由形式地址间接提供
![[../../attachment/Pasted image 20240301100114.png]]

- 执行指令阶段2次访存
- 可扩大寻址范围
- 便于编址程序
![[../../attachment/Pasted image 20240301100658.png]]
- 多次访存

例如
![[../../attachment/Pasted image 20240301100953.png]]
![[../../attachment/Pasted image 20240301101112.png]]

## 寄存器寻址

有效地址是寄存器编号，寄存器直接寻址（EA=R_i）
![[../../attachment/Pasted image 20240301101331.png]]

- 执行阶段补访存，只访问寄存器，执行速度块
- 寄存器个数有限，可缩短指令字长

## 寄存器间接寻址

操作数保存在内存单元，操作上的地址保存在寄存器中（`EA=(R_i)`）

![[../../attachment/Pasted image 20240301101714.png]]

- 执行阶段只需要进行一次访存
- 便于编制循环程序

## 基址寻址

`EA=(BR)+A`

- 可扩大寻址范围
- 有利于多道程序

### 采用专用寄存器作基址寄存器

![[../../attachment/Pasted image 20240301102128.png]]

- BR为基址寄存器
- 内容由操作系统或管理程序确定
- BR内容不变，只能修改形式地址A

### 采用通用寄存器作基址寄存器

![[../../attachment/Pasted image 20240301102459.png]]

- R_0作为基址寄存器
- 用户确定作为基址的寄存器
- 基址寄存器的内容由操作系统决定
- R_0内容不变，形式地址A可变

## 变址寻址

`EA=(IX)+A`，IX为变址寄存器(专用或通用)
![[../../attachment/Pasted image 20240301102928.png]]

- 可扩大寻址范围
- IX的内容由用户给定
- 在程序 执行过程中IX内容可变，形式地址A不变
- 便于处理数组问题

## 相对寻址

`EA=(PC)+A`
A是相对于当前指令的位移量（可正可负，补码）

![[../../attachment/Pasted image 20240301104322.png]]

- A的位数决定操作数的寻址范围
- 程序浮动，广泛用于转移指令

## 堆栈寻址

### 堆栈的特点

堆栈

- 硬堆栈：多个寄存器
- 软堆栈：指定的存储空间

先进后出（一个入出口）栈顶地址由SP指出

### 堆栈寻址举例

- 进栈：`(SP)-1->SP`
![[../../attachment/Pasted image 20240301105539.png]]
- 出栈：`(SP)+1->SP`
![[../../attachment/Pasted image 20240301105551.png]]

### SP的修改与主存编址方法有关

- 按字编址：sp每次修改1
- 按字节编址：SP每次修改 存储字长的字节数

> 思考：采用如此多的寻址方式，应该是为了应对不同类型的程序运行，不同的寻址方式的特点和适用范围不同
