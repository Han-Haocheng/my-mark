# 全排列和对换

## 排列及其逆序数
### 排列

**排列($n$个元素的全排列)**：把$n$个不同的元素排成一个有序数组
- 排列个数($P_{n}$)：$n!$
- 标准排列($n$级标准排列)：按某种规则进行排序，通常是从小到大排序

### 逆序

- 对于$n$个不同的元素
	- 先规定各元素之间有一个标准次序
	- 在这$n$个元素的任一排列中
- **逆序**：某一对元素的先后次序与标准次序不同
	- *排列的逆序数*：一个排列中所有逆序的总数
	- *奇排列*：逆序数为奇数的排列
	- *偶排列*：逆序数是偶数的排列

>[!example]- 例题：一个七级排列$6471325$的逆序数为13

## 对换

**对换**：在排列中，任意两个元素对调,其余的元素不动，所产生新排列的手续
- **相邻对换**：将相邻两个元素对换

>[!abstract]- 定理1：一个排列中的任意两个元素对换，排列改变奇偶性
> 
> 证 
> - 设元素为从1开始的自然数(从小到大为标准次序)
> - 先证相邻对换的情形
> - 设排列为$a_{1}\cdots a_{i}abb_{1}\cdots b_{m}$
> 	- 对换a与b
> 	- 变为$a_{1}\cdots a_{t}bab_{1}\cdots b_{m}$
> - 显然$a_{1},\cdots,a_{t}$；$b_{1},\cdots,b_{m}$
> 	- 这些元素的逆序数经过对换并不改变
> - 而a,b两元素的逆序数改为:
> 	- 当a<b时,经对换后a的逆序数增加1而b的逆序数不变;
> 	- 当a>b时,经对换后a的逆序数不变而b的逆序数减少1
> - 所以排列$a_{1}\cdots a_{t}abb_{1}\cdots b_{m}$
> 	- 与排列$a_{1}\cdots a_{t}bab_{1}\cdots b_{m}$的奇偶性不同
> - 再证一般对换的情形
> - 设排列为$a_{1}\cdots a_{t}ab_{1}\cdots b_{m}cc_{1}\cdots c_{n}$
> 	- 把它作m次相邻对换
> 	- 变成$a_{1}\cdots a_{t}abb_{1}\cdots b_{m}cc_{1}\cdots c_{n}$
> - 再作$m+1$次相邻对换
> 	- 变成$a_{1}\cdots a_{t}bb_{1}\cdots b_{m}ac_{1}\cdots c_{n}$
> - 总之,经$2m+1$次相邻对换
> 	- 排列$a_{1}\cdots a_{t}ab_{1}\cdots b_{m}cc_{1}\cdots c_{n}$
> 	- 变成排列$a_{1}\cdots a_{t}bb_{1}\cdots b_{m}ac_{1}\cdots c_{n}$
> - 所以这两个排列的奇偶性相反

>[!abstract]- 定理1'：$n$级排列共有$n!$个，奇排列、偶排列各占$\frac{n!}{2}$个

>[!abstract]- 推论：奇排列对换成标准排列的对换次数为奇数,偶排列对换成标准排列的对换次数为偶数.
> 证 
> - 由定理1知对换的次数就是排列奇偶性的变化次数
> - 而标准排列是偶排列(逆序数为0),因此知推论成立.  

